<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Advanced EUR/USD Signal Bot (Live Premium)</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Orbitron', sans-serif;
      display: flex;
      margin: 0;
      background: linear-gradient(135deg, #1f1c2c, #928dab);
      color: #fff;
    }
    
    .chart-container {
      flex: 4;
      height: 100vh;
      border-right: 2px solid rgba(255, 255, 255, 0.15);
      padding: 10px;
    }
    
    
    
    
    
    .bot-panel {
      flex: 1.3;
      padding: 25px;
      background: linear-gradient(135deg, rgba(255,255,255,0.05), rgba(0,0,0,0.1)),
                  url('data:image/svg+xml;utf8,<svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg"><polyline points="0,100 40,80 80,60 120,90 160,40 200,70 240,20 280,50 320,10" fill="none" stroke="%2300ffe7" stroke-width="3"><animate attributeName="points" dur="3s" repeatCount="indefinite" values="0,100 40,80 80,60 120,90 160,40 200,70 240,20 280,50 320,10; 0,90 40,70 80,50 120,80 160,30 200,60 240,10 280,40 320,0; 0,100 40,80 80,60 120,90 160,40 200,70 240,20 280,50 320,10" /></polyline></svg>');
      background-repeat: no-repeat;
      background-size: cover;
      backdrop-filter: blur(25px);
      border-left: 2px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 0 40px rgba(0, 255, 231, 0.1);
      border-radius: 25px 0 0 25px;
      transition: all 0.5s ease;
    }
    
    h2 {
      margin-top: 0;
      font-size: 30px;
      font-weight: 800;
      color: #00ffe7;
      text-shadow: 0 0 12px rgba(0, 255, 231, 0.8);
    }
    
    select {
      font-size: 16px;
      padding: 10px;
      border-radius: 30px;
      border: 1px solid #ccc;
      background: rgba(255, 255, 255, 0.1);
      color: #ffffff;
      outline: none;
      box-shadow: inset 0 0 5px rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease-in-out;
    }
    select:focus {
      box-shadow: 0 0 25px rgba(0, 255, 231, 0.8);
      background: linear-gradient(120deg, #00ffe7, #ff00d4);
      color: #ffffff;
    }

    #signalOutput {
      font-size: 28px;
      font-weight: bold;
      margin-top: 20px;
      padding: 10px;
      border-radius: 12px;
      text-align: center;
      transition: all 0.3s ease-in-out;
      box-shadow: 0 0 15px rgba(255,255,255,0.2);
    }
    #trendStatus, #explanation {
      margin-top: 15px;
      font-size: 16px;
      color: #f0f0f0;
      opacity: 0.95;
    }
    
    button {
      padding: 14px 30px;
      font-size: 20px;
      font-weight: bold;
      border-radius: 60px;
      border: 2px solid transparent;
      background: linear-gradient(90deg, #00f260, #0575e6) border-box;
      background-clip: padding-box, border-box;
      background-origin: padding-box, border-box;
      color: white;
      cursor: pointer;
      box-shadow: 0 0 20px #00f260, 0 0 40px #0575e6;
      transition: all 0.3s ease-in-out;
      animation: pulse 2.5s infinite ease-in-out;
    }
    button:hover {
      transform: scale(1.08);
      background: linear-gradient(270deg, #0575e6, #00f260);
      box-shadow: 0 0 30px #00f260, 0 0 50px #0575e6;
    }

    @keyframes pulse {
      0%, 100% {
        box-shadow: 0 0 20px #00f260;
      }
      50% {
        box-shadow: 0 0 30px #00ffe7;
      }
    }
    .signal-buy {
      background: rgba(0, 255, 128, 0.25);
      border: 2px solid #00ff80;
      box-shadow: 0 0 25px #00ff80;
      color: #00ff80;
    }
    .signal-sell {
      background: rgba(255, 80, 80, 0.25);
      border: 2px solid #ff5050;
      box-shadow: 0 0 25px #ff5050;
      color: #ff5050;
    }
    .signal-hold {
      background: rgba(255, 221, 0, 0.25);
      border: 2px solid #ffdd00;
      box-shadow: 0 0 25px #ffdd00;
      color: #ffdd00;
    }

    .saimun-logo {
      font-size: 26px;
      font-weight: 800;
      color: #00ffe7;
      text-align: center;
      margin-bottom: 20px;
      text-shadow: 0 0 10px #00ffe7, 0 0 20px #00ffe7;
      animation: glow 2s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from {
        text-shadow: 0 0 10px #00ffe7, 0 0 20px #00ffe7;
      }
      to {
        text-shadow: 0 0 20px #00ffff, 0 0 30px #00ffff;
      }
    }


#tradeDuration {
  font-size: 16px;
  padding: 10px 20px;
  border-radius: 25px;
  border: 2px solid transparent;
  background-image: linear-gradient(to right, #1c1c1e, #2c2c30), linear-gradient(90deg, #00ffe7, #ff00d4);
  background-origin: border-box;
  background-clip: padding-box, border-box;
  color: #ffffff;
  box-shadow: 0 0 10px rgba(0, 255, 231, 0.4);
  transition: all 0.4s ease-in-out;
}
#tradeDuration:hover {
  box-shadow: 0 0 18px #00ffe7, 0 0 24px #ff00d4;
  transform: scale(1.03);
}


.signal-overlay {
  position: absolute;
  top: 20%;
  left: 50%;
  transform: translateX(-50%);
  font-size: 48px;
  color: lime;
  animation: flashSignal 1.5s infinite;
  pointer-events: none;
  z-index: 99;
}
@keyframes flashSignal {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}

</style>
</head>
<body>

  <div class="chart-container" style="position:relative;">

<div id="chartSignalOverlay" class="signal-overlay" style="display: none;">üìà</div>

    <!-- TradingView Widget BEGIN -->
    <div class="tradingview-widget-container">
      <div id="tradingview_eurusd"></div>
      <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
      <script type="text/javascript">
      new TradingView.widget({
        "width": "100%",
        "height": "100%",
        "symbol": "FX_IDC:EURUSD",
        "interval": "1",
        "timezone": "Etc/UTC",
        "theme": "dark",
        "style": "1",
        "locale": "en",
        "toolbar_bg": "#0f2027",
        "enable_publishing": false,
        "allow_symbol_change": false,
        "container_id": "tradingview_eurusd"
      });
      </script>
    </div>
    <!-- TradingView Widget END -->
  </div>

  <div class="bot-panel">
        <h2>ü§ñ Super EUR/USD Signal Bot (Premium)</h2>
    
    <label for="tradeDuration">Trade Duration:</label>
    <select id="tradeDuration">
      <option value="1">1 Minute</option>
      <option value="3">3 Minutes</option>
      <option value="5">5 Minutes</option>
      <option value="10">10 Minutes</option>
<option value="15">15 Minutes</option>
<option value="30">30 Minutes</option>
    </select>
    <br><br>
    <button onclick="playSound(); startBot()">Start Smart Analysis</button>
    
    <div id="signalOutput">Signal: --</div>
    <div id="trendStatus">Trend: --</div>
    
<div id="explanation" class="saimun-logo">üöÄ Owner: Saimun
<div style="margin-top: 20px;">
  <div><strong>üìà Signal History:</strong></div>
  <ul id="history" style="max-height:150px; overflow-y:auto; font-size:14px;"></ul>
  <div><strong>‚úÖ Wins: </strong><span id="winCount">0</span> | <strong>‚ùå Losses: </strong><span id="lossCount">0</span> | <strong>üéØ Win Rate: </strong><span id="winRate">0%</span></div>
  <div>
    <button onclick="markResult('win')">‚úîÔ∏è Mark Win</button>
    <button onclick="markResult('loss')">‚ùå Mark Loss</button>
  </div>
  <div style="margin-top:10px;"><strong>üìä Confidence Bar:</strong></div>
  <div style="background:#444; border-radius:20px; overflow:hidden; height:15px;">
    <div id="confidenceBar" style="height:15px; background:lime; width:0%; transition:width 0.5s;"></div>
  </div>
</div>

</div>

  </div>

  <script>


    let running = false;

    function isMarketOpen() {
      const now = new Date();
      const day = now.getUTCDay();
      const hour = now.getUTCHours();
      return day >= 1 && day <= 5 && hour >= 0 && hour < 22;
    }

    async function fetchLivePrice() {
      const response = await fetch("https://api.twelvedata.com/time_series?symbol=EUR/USD&interval=1min&outputsize=20&apikey=b259ec4ceb574013927efe52382ec2c1");
      const data = await response.json();
      return data.values.map(v => parseFloat(v.close)).reverse();
    }

    function calculateEMA(prices, period) {
      const k = 2 / (period + 1);
      let ema = prices[0];
      for (let i = 1; i < prices.length; i++) {
        ema = prices[i] * k + ema * (1 - k);
      }
      return ema;
    }

    function calculateRSI(prices, period = 14) {
      let gains = 0, losses = 0;
      for (let i = 1; i <= period; i++) {
        const diff = prices[i] - prices[i - 1];
        if (diff >= 0) gains += diff;
        else losses -= diff;
      }
      const avgGain = gains / period;
      const avgLoss = losses / period;
      const rs = avgGain / avgLoss;
      return 100 - (100 / (1 + rs));
    }

    function startBot() {
      if (running) return;
      running = true;
      document.getElementById("signalOutput").innerText = "Analyzing...";
      document.getElementById("trendStatus").innerText = "Checking trend...";
      document.getElementById("explanation").innerText = "Collecting data...";

      if (!isMarketOpen()) {
        document.getElementById("signalOutput").innerText = "Signal: Market Closed ‚ùå";
        document.getElementById("signalOutput").className = "signal-hold";
        document.getElementById("trendStatus").innerText = "Trend: --";
        document.getElementById("explanation").innerText = "Explanation: Market is currently closed.";
        return;
      }

      runLiveAnalysis();
    }

    
function calculateMACD(prices, shortPeriod = 12, longPeriod = 26, signalPeriod = 9) {
  const emaShort = [];
  const emaLong = [];
  const macdLine = [];
  const signalLine = [];

  let kShort = 2 / (shortPeriod + 1);
  let kLong = 2 / (longPeriod + 1);
  let kSignal = 2 / (signalPeriod + 1);

  emaShort[0] = prices[0];
  emaLong[0] = prices[0];

  for (let i = 1; i < prices.length; i++) {
    emaShort[i] = prices[i] * kShort + emaShort[i - 1] * (1 - kShort);
    emaLong[i] = prices[i] * kLong + emaLong[i - 1] * (1 - kLong);
    macdLine[i] = emaShort[i] - emaLong[i];
    signalLine[i] = i > signalPeriod ? (macdLine[i] * kSignal + signalLine[i - 1] * (1 - kSignal)) : macdLine[i];
  }

  return {
    macd: macdLine[macdLine.length - 1],
    signal: signalLine[signalLine.length - 1]
  };
}


function isVolatile(prices, threshold = 0.0025) {
  const high = Math.max(...prices);
  const low = Math.min(...prices);
  const range = high - low;
  return range >= threshold;
}


function isNewsTime() {
  const now = new Date();
  const hour = now.getUTCHours();
  const minute = now.getUTCMinutes();
  return (hour === 13 || (hour === 14 && minute <= 30));
}



function getTrendStrength(ema5, ema20, rsi) {
  const emaDistance = Math.abs(ema5 - ema20);
  if (emaDistance > 0.002 && (rsi > 65 || rsi < 35)) return "Strong üí™";
  if (emaDistance > 0.001) return "Moderate ‚ö°";
  return "Weak ‚ö†Ô∏è";
}


function getAIConfidence(ema5, ema20, rsi, macd, macdSignal, pattern) {
  let score = 0;
  if (ema5 > ema20) score++;
  if (rsi > 50 && rsi < 70) score++;
  if (macd > macdSignal) score++;
  if (pattern === "Bullish Engulfing" || pattern === "Bearish Engulfing") score++;
  return Math.round((score / 4) * 100);
}

async function runLiveAnalysis() {
      setInterval(async () => {
        if (!running) return;

        const output = document.getElementById("signalOutput");
        const trendStatus = document.getElementById("trendStatus");
        const explanation = document.getElementById("explanation");

        if (!isMarketOpen()) {
          output.textContent = "Signal: Market Closed ‚ùå";
          output.className = "signal-hold";
          trendStatus.textContent = "Trend: --";
          explanation.textContent = "Explanation: Market is currently closed.";
          return;
        }

        try {

const currentHour = new Date().getUTCHours();
if (!(currentHour >= 7 && currentHour <= 16)) {
  output.textContent = 'Signal: Time Filtered ‚õî';
  output.className = 'signal-hold';
  explanation.textContent = 'Explanation: Time is outside of strong probability zone.';
  return;
}

  if (isNewsTime()) {
    output.textContent = 'Signal: Blocked üïí';
    output.className = 'signal-hold';
    trendStatus.textContent = 'Trend: --';
    explanation.textContent = 'Explanation: News time (high risk), signal blocked.';
    return;
  }
          
const nowMillis = Date.now();
if (nowMillis - lastSignalTime < 60000) {
  explanation.textContent = 'Explanation: Waiting for cooldown to complete.';
  return;
}

const prices = await fetchLivePrice();
          if (!isVolatile(prices)) {
  output.textContent = 'Signal: Low Volatility ‚ö†Ô∏è';
  output.className = 'signal-hold';
  trendStatus.textContent = 'Trend: --';
  explanation.textContent = 'Explanation: Not enough volatility to trade.';
  return;
}

const ema5 = calculateEMA(prices.slice(-5), 5);

const ema20 = calculateEMA(prices, 20);
const rsi = calculateRSI(prices);
const last = prices[prices.length - 1];
const prev = prices[prices.length - 2];
let pattern = "Neutral";
if (last > prev && (last - prev) > 0.001) pattern = "Bullish Engulfing";
if (last < prev && (prev - last) > 0.001) pattern = "Bearish Engulfing";

const macdResult = calculateMACD(prices);
const confidence = getAIConfidence(ema5, ema20, rsi, macdResult.macd, macdResult.signal, pattern);
          let signal = "HOLD üü°";
          let trend = "Sideways ‚û°Ô∏è";
          let reason = `EMA5: ${ema5.toFixed(5)}, EMA20: ${ema20.toFixed(5)}, RSI: ${rsi.toFixed(2)}, Pattern: ${pattern}`;
          let className = "signal-hold";

          if (ema5 > ema20 && rsi > 50 && rsi < 70 && pattern === "Bullish Engulfing" && macdResult.macd > macdResult.signal && confidence >= 75) {
            signal = "BUY üìà"; document.getElementById("chartSignalOverlay").style.display = "block"; document.getElementById("chartSignalOverlay").textContent = "üìà";
            trend = "Uptrend üìà";
            reason += " ‚Üí Strong bullish setup detected."; playAlert();
            className = "signal-buy";
          } else if (ema5 < ema20 && rsi < 50 && rsi > 30 && pattern === "Bearish Engulfing" && macdResult.macd < macdResult.signal && confidence >= 75) {
            signal = "SELL üìâ"; document.getElementById("chartSignalOverlay").style.display = "block"; document.getElementById("chartSignalOverlay").textContent = "üìâ";
            trend = "Downtrend üìâ";
            reason += " ‚Üí Strong bearish setup detected."; playAlert();
            className = "signal-sell";
          } else {
            reason += " ‚Üí No valid signal (filter triggered)."; document.getElementById("chartSignalOverlay").style.display = "none";
            className = "signal-hold";
          }

          const nowTime = new Date().toLocaleTimeString();
          const tradeDuration = parseInt(document.getElementById("tradeDuration").value);
          const now = new Date();
          now.setMinutes(now.getMinutes() + tradeDuration);
          const nextCandleTime = now.toLocaleTimeString();

          output.innerText = `Signal: ${signal} (Confidence: ${confidence}%) (Time: ${nowTime})`;
lastSignalTime = Date.now();
addToHistory(signal, confidence, nowTime);
updateConfidenceBar(confidence);
          output.className = className;
          const strength = getTrendStrength(ema5, ema20, rsi);
trendStatus.innerText = `Trend: ${trend} (${strength})`;
          explanation.innerText = `${reason} üïê Use this signal for Quotex next candle at ${nextCandleTime}`;

        } catch (err) {
          output.textContent = "Signal: Error fetching data ‚ùå";
          output.className = "signal-hold";
          explanation.textContent = "Explanation: " + err.message;
        }
      }, 15000);
    }
  </script>


<audio id="clickSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_84696a91c7.mp3?filename=ui-click-136302.mp3"></audio>


<script>



  const clickSound = document.getElementById("clickSound");
  function playSound() {
    clickSound.currentTime = 0;
    clickSound.play();
  }
</script>


<audio id="alertSound" src="https://cdn.pixabay.com/download/audio/2022/11/23/audio_eb84711994.mp3?filename=notification-132056.m
  const alertSound = document.getElementById("alertSound");
  function playAlert() {
    alertSound.currentTime = 0;
    alertSound.play();
  }
</script>

</body>
</html>
